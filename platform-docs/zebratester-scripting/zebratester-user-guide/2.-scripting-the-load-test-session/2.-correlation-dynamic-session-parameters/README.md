# 2. Correlation - Dynamic Session Parameters

* [Dynamic Session Parameters](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#Dynamic-Session-Parameters)
  * [Variable Handler “Var Handler” Introduction](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#Variable-Handler-%E2%80%9CVar-Handler%E2%80%9D-Introduction)
  * [VAR Extraction](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#VAR-Extraction)
  * [VAR Assignment](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#VAR-Assignment)
    * ["WHAT ARE THOSE ICONS?" ](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#%22WHAT-ARE-THOSE-ICONS%3F%22)
  * [The Var Handler UI Summary](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#The-Var-Handler-UI-Summary)
  * [Load Test Plugins](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#Load-Test-Plugins)
    * [Start Add Plug-in from Var Handler Main Menu](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#Start-Add-Plug-in-from-Var-Handler-Main-Menu)
    * [Select Plug-in from Drop-down.](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#Select-Plug-in-from-Drop-down.)
    * [Add Input Parameters](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#Add-Input-Parameters)
  * [Dynamically-Exchanged Session Parameters](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#Dynamically-Exchanged-Session-Parameters)
  * [Automated Handling of Dynamically-Exchanged Session Parameters (Var Finder)](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#Automated-Handling-of-Dynamically-Exchanged-Session-Parameters-\(Var-Finder\))
  * [Process](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#Process)
    * [Review the recorded values](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#Review-the-recorded-values)
    * [Auto-Extract the dynamically-exchanged session parameters](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#Auto-Extract-the-dynamically-exchanged-session-parameters)
    * [Error](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#Error)
    * [Manual Extraction of Dynamically-Exchanged Session Parameters](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#Manual-Extraction-of-Dynamically-Exchanged-Session-Parameters)
  * [Replacing Text Patterns](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#Replacing-Text-Patterns)
  * [Extracting and Assigning Values of XML and SOAP Data](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#Extracting-and-Assigning-Values-of-XML-and-SOAP-Data)
  * [HTTP File Uploads](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#HTTP-File-Uploads)
  * [Overview of most commonly used Extract and Assign Options](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#Overview-of-most-commonly-used-Extract-and-Assign-Options)
  * [Directly-Defined Variables (stand-alone Variables)](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#Directly-Defined-Variables-\(stand-alone-Variables\))
    * [Initial Values:](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#Initial-Values%3A)
  * [J2EE URL Rewriting](https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/28147864/2.+Correlation+-+Dynamic+Session+Parameters+Var+Handler#J2EE-URL-Rewriting)

This page is not comprehensive, but an extended excerpt of the ZebraTester-Installed User PDF Manual called the ZebraTester Users Guide.

## Dynamic Session Parameters <a href="#dynamic-session-parameters" id="dynamic-session-parameters"></a>

However, it is often desirable - or even required - that the recorded web surfing session must first be edited. Some possible use-cases are:

* The web application contains HTML form-based authentication, and it is required that each user use a known username and password to login to the web application.
* You wish to take a URL call variable and make it a parameter and set the parameter's value each time before starting the load test—for example, a booking date of a flight.
* The recorded session contains dynamically-exchanged session parameters, which must be extracted at run-time from the web pages, and then assigned to succeeding URL calls to run the load test program successfully.

### Variable Handler “Var Handler” Introduction <a href="#variable-handler-var-handler-introduction" id="variable-handler-var-handler-introduction"></a>

Open image-20210217-192846.png![](blob:https://apica-kb.atlassian.net/6d890fed-d4ee-490f-ae0b-58b368a17c48#media-blob-url=true\&id=eb467e76-c8d9-4ad0-b3eb-35e633ac63b9\&collection=contentId-28147864\&contextId=28147864\&width=370\&height=156\&alt=)

All of these tasks and many more can be performed using the "central variable handler menu" called **Var Handler**, which manages all dynamically- applied modifications to web surfing sessions. The process involves _two steps_:

1. First, a variable must be defined or **extracted**.
2. Then variable must be **assigned.**

In other words, _**a variable must first be extracted before it can be assigned**_; however, some of the most commonly-used dialogs also support making automatic and/or global assignments. **Extracting variables is completely independent of the assignment**; thus, many combinations are possible, providing maximum flexibility.

Open image-20210217-185515.png![](blob:https://apica-kb.atlassian.net/2c57946a-1de8-41f6-ba22-d1668c9d45c1#media-blob-url=true\&id=0a084967-eca2-48d2-bb5e-8829c47456a5\&collection=contentId-28147864\&contextId=28147864\&width=539\&height=360\&alt=)

### VAR Extraction <a href="#var-extraction" id="var-extraction"></a>

Open image-20210217-185539.png![](blob:https://apica-kb.atlassian.net/256364c0-63ec-455b-82ab-be1392455fea#media-blob-url=true\&id=9521aa3a-c953-472a-8d2e-886760e4bf97\&collection=contentId-28147864\&contextId=28147864\&width=19\&height=18\&alt=)

Variables can be **extracted** by using the Web Admin GUI from the following sources:

* from **Input Files**, whose data are read at run-time during the load test
* from **HTML form parameters**; for example, hidden form fields
* from values of received **XML and SOAP data**
* from values of received **JSON data**
* from values of received **Google Protobuf data**
* from **CGI parameters** contained in hyperlinks, form actions, or HTTP redirects
* from any **text fragments** of received HTML and XML data
* from **User Input Fields** - which are arbitrary configurable load test input parameters
* from **HTTP response header fields**
* from output parameters of **Load Test Plugins**

Additionally, it is also possible to define stand-alone variables that have constant or dynamic initial values.

### VAR Assignment <a href="#var-assignment" id="var-assignment"></a>

Open image-20210217-185614.png![](blob:https://apica-kb.atlassian.net/62fa497b-3553-4b1a-b5ef-156f06a52901#media-blob-url=true\&id=87b39c42-0779-425f-91e0-511cd0ca2c51\&collection=contentId-28147864\&contextId=28147864\&width=16\&height=18\&alt=)

A variable can be **assigned** as follows, _irrespective of how it was extracted_:

* to the value of an **HTML form field** -
* to the value of a **CGI Parameter** of a URL call
* to values of **XML and SOAP data** of a URL call
* to values of **Google Protobuf data** of a URL call
* to a **text fragment of a URL call** (within the HTTP request header or the HTTP request content.
* to the **protocol** (HTTP/HTTPS), the **hostname,** or the **TCP/IP port** of one or all URL calls
* to the **user’s think time** of a web page
* The **response verification algorithm** of a URL call (searched text fragment or size of the received content.
* to the **number of iterations** and/or the **pacing delay** of an **inner loop** F
* to some **HTTP request header fields** (ZebraTester automatically handles most request header fields)
* to an input parameter of a **Load Test Plugin**

Each variable also has a **scope**. Possible scopes are:

| `global`     | all users will see the same value of the variable during the load test.                                                                                                                                |
| ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `user`       | although the variable has been defined only once, each user will see its own value during the load test. There are as many virtual instances of the variable as concurrent users during the load test. |
| `loop`       | the variable is bound to the current loop (surf session repetition) of a user, and its value can change during each loop.                                                                              |
| `inner loop` | the variable is bound to the user's inner loop and can change its value during each iteration of the inner loop.                                                                                       |

Although seemingly complicated, the **Var Handler** is a powerful tool that is easy to use. It is possible to satisfy complex requirements quickly with a few mouse clicks, as described in the next sections. **Programming knowledge is&#x20;**_**not**_**&#x20;required.**

***

#### **"WHAT ARE THOSE ICONS?"**   <a href="#what-are-those-icons" id="what-are-those-icons"></a>

Icons and what they do.

There are many tiny icons (seemingly identical!) that are actually context-sensitive in the ZebraTester. Generally:

Open image-20210217-185838.png![](blob:https://apica-kb.atlassian.net/aa1e9f92-e15e-4951-908e-375174dd98d0#media-blob-url=true\&id=04e3e923-42bb-4caa-be60-73227ebd9686\&collection=contentId-28147864\&contextId=28147864\&width=16\&height=18\&alt=)

A Dot/Circle in front of a Box **Assigns** Values **to** a Variable.

&#x20;

Open image-20210217-190017.png![](blob:https://apica-kb.atlassian.net/6c06b577-3ed0-4802-a094-04edcca677fa#media-blob-url=true\&id=b4b56558-ccf4-40a9-92cd-0a1bd2062623\&collection=contentId-28147864\&contextId=28147864\&width=19\&height=18\&alt=)

A Box in front of a Dot/Circle **Extracts** Values **from** a Variable.

| **Icon**                                                                                                                                                                                                                                                                                                            | **Meaning**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | **Example/Dialog**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Open image-20210217-185838.png![](blob:https://apica-kb.atlassian.net/5f591aaf-b6ce-4e79-a97f-f7d30e740371#media-blob-url=true\&id=04e3e923-42bb-4caa-be60-73227ebd9686\&collection=contentId-28147864\&contextId=28147864\&width=16\&height=18\&alt=)                                                              | <p><strong>Var Assigner “Assign a Variable”</strong></p><p>Dots in front Boxes ASSIGN a Var to something.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | <p><strong>HTTP REQUEST HEADER:</strong> This first ASSIGN icon above the HTTP Request Header and it Assigns Var to an HTTP Header Field</p><p>Open image-20210217-201932.png<img src="blob:https://apica-kb.atlassian.net/aa781875-6c73-4ea2-bd2e-8e2346ad1ba9#media-blob-url=true&#x26;id=d7bb6ce6-96b4-4797-9660-6b5e6c31b26f&#x26;collection=contentId-28147864&#x26;contextId=28147864&#x26;width=533&#x26;height=194&#x26;alt=" alt=""></p>                                                                |
| Open image-20210217-190017.png![](blob:https://apica-kb.atlassian.net/060ee5f8-eeab-4867-8136-87a5c52e0400#media-blob-url=true\&id=b4b56558-ccf4-40a9-92cd-0a1bd2062623\&collection=contentId-28147864\&contextId=28147864\&width=19\&height=18\&alt=)                                                              | <p><strong>Var Extractors “Extract a Variable”</strong></p><p>Boxes in front of Dot EXTRACT a value to a Var.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | <p><strong>HTTP RESPONSE HEADER:</strong> This first EXTRACT icon, Extracts the Var from the Header Field</p><p>Open image-20210217-202311.png<img src="blob:https://apica-kb.atlassian.net/acecddd6-cf8a-425c-9ba0-a9b67600eb53#media-blob-url=true&#x26;id=d8f0df49-5e14-476a-ada0-de3e6c0038e2&#x26;collection=contentId-28147864&#x26;contextId=28147864&#x26;width=255&#x26;height=109&#x26;alt=" alt=""></p>                                                                                               |
| <p>Open image-20210217-190202.png<img src="blob:https://apica-kb.atlassian.net/bf7a9e62-c324-4f9d-9990-673e1901f944#media-blob-url=true&#x26;id=544f9651-f5cb-483e-8a01-49cdffd50603&#x26;collection=contentId-28147864&#x26;contextId=28147864&#x26;width=27&#x26;height=46&#x26;alt=" alt=""></p><p> </p>         | <p><strong>Blue</strong> Left Arrow indicates that the value of the variable has been extracted.</p><p><strong>Red</strong> Right Arrow inside the search result means that a (variable) string has been sent. </p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | <p>Open image-20210217-190851.png<img src="blob:https://apica-kb.atlassian.net/d37abd58-f0f4-4c8b-bab7-94176e9d59e0#media-blob-url=true&#x26;id=b7b5e7fb-6af1-45a7-8339-8857a78f55a3&#x26;collection=contentId-28147864&#x26;contextId=28147864&#x26;width=373&#x26;height=54&#x26;alt=" alt=""></p><p> </p>                                                                                                                                                                                                     |
| <p>Open image-20210217-190543.png<img src="blob:https://apica-kb.atlassian.net/a68f73b2-c182-4739-891f-8d6d6ca50c25#media-blob-url=true&#x26;id=1625d7a3-fd0d-40f4-bdeb-7e33777dcf21&#x26;collection=contentId-28147864&#x26;contextId=28147864&#x26;width=15&#x26;height=15&#x26;alt=" alt=""></p><p> </p><p> </p> | <p>The Magnifier icon will change depending on the function it’s next to</p><p>“<strong>Var Extract Details</strong>” next to <strong>Blue</strong> Left Arrow displays more details about how the variable was extracted.</p><p>“<strong>Var Assign Details</strong>” next to <strong>Red</strong> Right Arrow displays more details about how the variable was extracted.</p><p>“<strong>Modify Input File Properties</strong>” next to Input File.</p><p>“<strong>Modify User Input Field Properties</strong>” next to User Input Field.</p>                                                                                                                                                                                                                                                              | <p>Open image-20210217-194407.png<img src="blob:https://apica-kb.atlassian.net/ccd84955-e730-4702-847c-8ba82f2c3e53#media-blob-url=true&#x26;id=2bed8366-93bb-47a1-b228-92cff8715dce&#x26;collection=contentId-28147864&#x26;contextId=28147864&#x26;width=350&#x26;height=302&#x26;alt=" alt=""></p><p> </p>                                                                                                                                                                                                    |
| Open image-20200108-154552.png![](blob:https://apica-kb.atlassian.net/157c7233-b6ea-4951-8470-1608596e1f82#media-blob-url=true\&id=927fa27d-eb56-4c7e-ac9b-c6eaba0dfa73\&collection=contentId-28147864\&contextId=28147864\&width=14\&height=11\&alt=)                                                              | The **Verify Input File Parsing** Button displays a preview of how the input file will be parsed during load test execution.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Open image-20210217-193358.png![](blob:https://apica-kb.atlassian.net/fdfbaf4f-13ec-4e3c-9420-bb91a2831b01#media-blob-url=true\&id=04fb2a80-316b-4305-a6c7-50b836878835\&collection=contentId-28147864\&contextId=28147864\&width=225\&height=39\&alt=)                                                                                                                                                                                                                                                          |
| <p>Open image-20210217-194640.png<img src="blob:https://apica-kb.atlassian.net/612e7576-d3e4-492b-884c-1a71fb380b72#media-blob-url=true&#x26;id=7d72523d-22c6-47b4-8f9f-44fb60d43d01&#x26;collection=contentId-28147864&#x26;contextId=28147864&#x26;width=43&#x26;height=22&#x26;alt=" alt=""></p><p> </p>         | <p>Open image-20210217-195006.png<img src="blob:https://apica-kb.atlassian.net/56704de8-5cb8-4517-b92f-f8fe50ffe794#media-blob-url=true&#x26;id=2cb4203f-8c12-4ceb-9946-fcb89d8b1167&#x26;collection=contentId-28147864&#x26;contextId=28147864&#x26;width=16&#x26;height=20&#x26;alt=" alt=""></p><p><strong>Replace HTTP Response Content</strong>: directly modify the recorded data.</p><p> </p><p>Open image-20210217-195147.png<img src="blob:https://apica-kb.atlassian.net/176c5fd7-fa2f-43e9-b767-0b33031b7af3#media-blob-url=true&#x26;id=c5d6581f-59b4-404a-bd62-ebfa1adad254&#x26;collection=contentId-28147864&#x26;contextId=28147864&#x26;width=35&#x26;height=39&#x26;alt=" alt=""></p><p><strong>Download Response Content to a File</strong></p>                                           | <p>Open image-20210217-194919.png<img src="blob:https://apica-kb.atlassian.net/84d96839-bcd3-4c96-acb2-b9b965604abc#media-blob-url=true&#x26;id=cd7d7e13-90dd-4f3d-8520-caa7e0e37b75&#x26;collection=contentId-28147864&#x26;contextId=28147864&#x26;width=658&#x26;height=127&#x26;alt=" alt=""></p><p> </p>                                                                                                                                                                                                    |
| Open image-20210217-195317.png![](blob:https://apica-kb.atlassian.net/d4bdf96a-71c5-4c66-b116-a3c28138d90c#media-blob-url=true\&id=2e501a2a-e9fe-48de-b529-6d57414f0569\&collection=contentId-28147864\&contextId=28147864\&width=21\&height=20\&alt=)                                                              | **Expand the view of the HTTP Response Content**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <p>Open image-20210217-194540.png<img src="blob:https://apica-kb.atlassian.net/77b01491-7480-4055-a555-217302e8cc0d#media-blob-url=true&#x26;id=345cd8c6-2662-43a7-b4b5-339404597af3&#x26;collection=contentId-28147864&#x26;contextId=28147864&#x26;width=740&#x26;height=312&#x26;alt=" alt=""></p><p> </p>       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Open image-20210217-195635.png![](blob:https://apica-kb.atlassian.net/b289a25e-c2c1-4738-bc98-9ed19c3a51ac#media-blob-url=true\&id=7512d85d-9436-4a1e-97b8-023aaa9adda6\&collection=contentId-28147864\&contextId=28147864\&width=22\&height=20\&alt=)                                                              | **Var Finder:** Supports finding and handling dynamically-exchanged session parameters easily.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Open image-20210217-195847.png![](blob:https://apica-kb.atlassian.net/729647eb-9449-4947-96f4-ce793c6727bc#media-blob-url=true\&id=9e909016-43ad-4edb-8d3f-24906c989624\&collection=contentId-28147864\&contextId=28147864\&width=473\&height=135\&alt=)                                                                                                                                                                                                                                                         |
| <p>Open image-20210217-200232.png<img src="blob:https://apica-kb.atlassian.net/ab45e5d2-c14f-4757-bf3f-a713d7ea3ecf#media-blob-url=true&#x26;id=c314ae26-e58d-4753-b63a-c3300b36c5bd&#x26;collection=contentId-28147864&#x26;contextId=28147864&#x26;width=20&#x26;height=20&#x26;alt=" alt=""></p><p> </p>         | <p><strong>Enable dynamic URL rewriting</strong> button in the <strong>Var Handler</strong></p><p>Described in the J2EE URL Rewriting Section.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Open image-20210217-200114.png![](blob:https://apica-kb.atlassian.net/c43c6ce6-a230-4f02-80d9-8655dfd797ca#media-blob-url=true\&id=ee20a385-afd2-4896-aa9b-e7d3222c9216\&collection=contentId-28147864\&contextId=28147864\&width=314\&height=132\&alt=)                                                                                                                                                                                                                                                         |
| <p>Open image-20210217-200600.png<img src="blob:https://apica-kb.atlassian.net/db9e1826-fb98-47d2-b185-937efffd65a5#media-blob-url=true&#x26;id=38426b24-e94f-4943-b9ea-99f09dd9e7cc&#x26;collection=contentId-28147864&#x26;contextId=28147864&#x26;width=20&#x26;height=20&#x26;alt=" alt=""></p><p> </p>         | <p><strong>Define New Stand-Alone Var</strong></p><p>Variables are usually defined implicitly by creating Input Files, User Input Fields, using the Var Finder, or extracting values using the Var Handler.</p><p>However, it is also possible to define variables directly for special-purpose use. Depending on the scope, directly-defined variables can have special initial values set during the load test by the load test program itself.</p>                                                                                                                                                                                                                                                                                                                                                        | Open image-20210219-184956.png![](blob:https://apica-kb.atlassian.net/1cba954e-ae45-4d8b-84e4-fe45f1f5f21c#media-blob-url=true\&id=63061d43-8503-4d2b-a74c-092737f8c7c3\&collection=contentId-28147864\&contextId=28147864\&width=499\&height=842\&alt=)Open image-20210217-200655.png![](blob:https://apica-kb.atlassian.net/651826c7-cd68-4936-bbd3-87a1c815606b#media-blob-url=true\&id=7dde4cc1-07bf-40c1-9571-e4c4d937582a\&collection=contentId-28147864\&contextId=28147864\&width=161\&height=144\&alt=) |
| Open image-20210217-200931.png![](blob:https://apica-kb.atlassian.net/b08753fe-d162-4e38-91c6-41feefd767f6#media-blob-url=true\&id=58d6ba9b-528d-4e72-a132-755b7440e2da\&collection=contentId-28147864\&contextId=28147864\&width=18\&height=13\&alt=)                                                              | <p><strong>Declare External Resources</strong></p><p>This menu allows you to declare additional external resources needed when executing a load test. Typically such external resources are <strong>Java library files (*.jar files)</strong> used by <strong>self-developed plug-ins</strong> or <strong>JUnit load test plug-ins</strong>, or <strong>Google Protobuf FileDescriptorSets (*.desc files)</strong> used to parse G-PROTOBUF messages. However, also any other file types can be declared.</p><p>Note: Any declarations made in the Var Handler menu, such as <strong>Input Files</strong> and <strong>Main Classes of Plug-Ins,</strong> are <strong>not external resources</strong> in this context and don't need to be declared because ZebraTester knows already these declarations.</p> | Open image-20210217-201220.png![](blob:https://apica-kb.atlassian.net/c4d1320b-76f2-42ce-b1db-aadd72003cdd#media-blob-url=true\&id=2d1a2926-bae4-4b3d-9f4a-81affd79f37b\&collection=contentId-28147864\&contextId=28147864\&width=315\&height=161\&alt=)                                                                                                                                                                                                                                                         |

Other edits, search/detail, and feature icons, but these Extract and Assign icons will be the most prevalent.  The many use cases for these icons are beyond this demo's scope and this article.&#x20;

***

### The Var Handler UI Summary <a href="#the-var-handler-ui-summary" id="the-var-handler-ui-summary"></a>

The variable handler can be invoked by clicking on any recorded URL call in the main menu. On the left side of the window, all **details of the URL call, which changes from call to call,** are displayed. On the right side of the window, the **Variable Handler** is displayed and summarizes all extracted and assigned variables. **This right-hand side part of the window remains constant (static) for all URL calls**:

Open image-20210217-211612.png![](blob:https://apica-kb.atlassian.net/06517117-5ec1-47c0-bed6-3b8fbfe9fea0#media-blob-url=true\&id=286db5ba-fd33-4d9b-9e4f-7a6eb533110d\&collection=contentId-28147864\&contextId=28147864\&width=763\&height=686\&alt=)

***

### Load Test Plugins <a href="#load-test-plugins" id="load-test-plugins"></a>

Open image-20210217-211933.png![](blob:https://apica-kb.atlassian.net/c6b868da-c558-4036-9ac2-43d05db1fcd8#media-blob-url=true\&id=1cbb8f0a-051f-4b08-8499-70240a909b2a\&collection=contentId-28147864\&contextId=28147864\&width=241\&height=237\&alt=)

ZebraTester Load Test Plugins are Extension Modules to the ZebraTester product. Plugins are configured using the GUI and are executed during a Load Test. The following are a few of the Plugins that are already predefined and delivered as part of the ZebraTester installation:

| **Plugin Designation in the GUI**                                                                                               | **Plugin Functionality**                                                                                                                                                                                                                               |
| ------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Abort Failed Test**                                                                                                           | Aborts a running Load Test if too many errors occur within a configured time interval.                                                                                                                                                                 |
| **Assign File Data to Request Content**                                                                                         | Read the data of a file from disk and assign it to a URL call (only useful for HTTP/S POST requests and some WebDAV methods).                                                                                                                          |
| **Cookie Injector**                                                                                                             | Sets a Cookie before or during the execution of a Load Test.                                                                                                                                                                                           |
| **Get Cookie Value**                                                                                                            | Extracts the value of a Cookie into a GUI Variable. The extracted value can be later assigned to a CGI parameter of a succeeding HTTP/S Request (among other targets).                                                                                 |
| **Defer Load Test Start**                                                                                                       | Delays the start of a Load Test Program for a configured time, expressed in minutes.                                                                                                                                                                   |
| **Delay Full Load**                                                                                                             | Limits the load - respectively, the number of the simulated users - for a configurable time. After this time is elapsed, the load is increased to the original number of planned users.                                                                |
| <p>DNS Round Robin Load Balancing</p><p>Deprecated: Replaced by integrated DNS options that can be configured per test run.</p> | Supports web servers that are using DNS Round Robin for load balancing.                                                                                                                                                                                |
| **dynaTrace Integration**                                                                                                       | Creates additional data during a Load Test for analysis using [dynaTrace Diagnostics](http://www.dynatrace.com/). The dynaTrace Integration Handbook contains further information about how to integrate ZebraTester with dynaTrace.                   |
| **Generic Output File**                                                                                                         | During a Load Test, writes the values of up to 6 GUIVariables line-by-line to a text file. The file scope is freely configurable - lines can be written per virtual test user, per loop execution, or URL call.                                        |
| **Input File List**                                                                                                             | Reads from a metafile a list of input files and assigns each simulated user a known input file. The simulated users read a new line from their input file each time before executing a new loop.                                                       |
| **Large Input File**                                                                                                            | Reads data from a large input file which has an unlimited size ( 1 GB)                                                                                                                                                                                 |
| **Large Response Content**                                                                                                      | Allows receiving response content data of a large size (up to 2 GB) for one or several URLs. Note that all response data are read as usual during load test execution but that only a part is stored internally.                                       |
| **Limit Response Content**                                                                                                      | Limit the receiving of response content data to a specified size. Further reading of data from the webserver during load test execution is aborted (skipped) for the configured URL when the maximum size is reached.                                  |
| **PKCS# 11 Security Device**                                                                                                    | Support for Smart Cards / PKCS# 11 Security Devices, which contain an SSL Client Certificate used for authentication against web servers.                                                                                                              |
| **Remove Cookie**                                                                                                               | Removes a cookie from the cookie store of a simulated user.                                                                                                                                                                                            |
| **User Synchronization Point**                                                                                                  | Retains all active users at a configurable synchronization point until all of the users have reached this point. After that, the users are rereleased by applying a configurable deblock delay multiplied with the no. of the actual user (0, 1, 2 …). |

The configuration of a Plugin, respectively adding a Plugin to a recorded web surfing session, can be done in the **Var Handler**:

| **Step**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | **Screenshot**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <h4 id="start-add-plug-in-from-var-handler-main-menu">Start Add Plug-in from Var Handler Main Menu</h4>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Open image-20210217-212359.png![](blob:https://apica-kb.atlassian.net/0da82042-6abf-4b29-a6f2-177b4799c28c#media-blob-url=true\&id=02b2e614-7d7a-4b31-bf3b-966c502641e8\&collection=contentId-28147864\&contextId=28147864\&width=188\&height=152\&alt=)                                                                                                                                                                                                                                                         |
| <h4 id="select-plug-in-from-drop-down">Select Plug-in from Drop-down.</h4><p>Click Continue…</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Open image-20210217-212816.png![](blob:https://apica-kb.atlassian.net/9bc6f702-4dcc-4716-b0c9-49a0b0c98922#media-blob-url=true\&id=5fcebf5f-cef2-4df8-b026-e0e3a333db5e\&collection=contentId-28147864\&contextId=28147864\&width=189\&height=89\&alt=)                                                                                                                                                                                                                                                          |
| <h4 id="add-input-parameters">Add Input Parameters</h4><p>Some Plugins require input parameters.</p><p>So, it may be necessary to define additional variables.</p><p>One option to define such variables is to create global visible stand-alone variables with constant initial values if constant values are required as Plugin input parameters.</p><p>Additional variables can also be extracted from other sources, for example, from Input Files, or User Input Fields, or responses of previous URL calls.</p><ul><li>Add Plug-in when done.</li><li>Note the Var Handler UI will change to reflect the new Vars and the newly-added Load Test Plug-Ins.</li></ul> | Open image-20210217-213129.png![](blob:https://apica-kb.atlassian.net/69d5d554-c8f7-40df-b3fe-dc389f72f516#media-blob-url=true\&id=501e214f-5cc2-4e7a-940f-011fe247261e\&collection=contentId-28147864\&contextId=28147864\&width=376\&height=261\&alt=)Open image-20210217-213736.png![](blob:https://apica-kb.atlassian.net/841d1d80-96b8-4cc4-902b-6ea42e12a7d3#media-blob-url=true\&id=e644f509-529b-4060-9ed4-b5241fc0cf1e\&collection=contentId-28147864\&contextId=28147864\&width=376\&height=320\&alt=) |

***

### Dynamically-Exchanged Session Parameters <a href="#dynamically-exchanged-session-parameters" id="dynamically-exchanged-session-parameters"></a>

The HTTP protocol by itself is stateless - there is no memory from URL call to URL call; however, most web applications require state information, such as the stage in a process that a user had reached - before login, after login, placed an order, and so on. Usually, cookies are used to keep state information. Cookies are set by the web server as additional HTTP response header fields and sent by the web browser back to the webserver and the HTTP requests of succeeding URL calls. This is normally not a problem because the load test program automatically does the correct handling of cookies.

However, some web applications use, as a special "session context" dynamically-generated CGI- or form-parameter values which are exchanged between the web application and the web browser in such a way that, if you repeat the same web surfing session, a more or less random algorithm changes the values of these parameters. If you use, during a load test, these "burned-in" values of dynamically-generated server-side CGI- or form-parameters, the load test will fail. A good example of this is the "\_\_VIEWSTATE" parameter used by Microsoft web servers.

The solution to this problem is that the values of these dynamically-exchanged session parameters must be extracted at runtime (during the load test) and then assigned to the corresponding parameters of succeeding URL calls.

To make this task easier, ZebraTester provides the **Var Finder** menu. You can invoke the Var Finder either from the main menu or from the Var Handler:

Open image-20210217-215925.png![](blob:https://apica-kb.atlassian.net/df4b0299-83ef-480e-a000-0ebfe03c3987#media-blob-url=true\&id=c9406602-a578-485d-94b3-14deff87c656\&collection=contentId-28147864\&contextId=28147864\&width=692\&height=205\&alt=)

***

### Automated Handling of Dynamically-Exchanged Session Parameters (Var Finder) <a href="#automated-handling-of-dynamically-exchanged-session-parameters-var-finder" id="automated-handling-of-dynamically-exchanged-session-parameters-var-finder"></a>

The Var Finder menu provides an overview of all URL request parameters and their values used anywhere in the entire recorded web surfing session. In this view, a parameter "name-value" pair is shown only once, even if the same "name-value" pair is used by more than one URL call. If the same parameter(-name) is used with different values, it will be shown multiple times, once for each distinct value.

### Process <a href="#process" id="process"></a>

| **Step**                                                                                                                                                                                                                                                                                                                | **Screenshot**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| <h4 id="review-the-recorded-values">Review the recorded values</h4><p>Try to judge which values could be dynamically-exchanged session parameters. If the value contains a long number or a cryptic hexadecimal string, it has a good chance of being a dynamically-exchange session parameter.</p>                     | <p>Open image-20210218-162708.png<img src="blob:https://apica-kb.atlassian.net/788b2f49-6277-4248-966a-90f30af5f041#media-blob-url=true&#x26;id=94084c62-1e49-4da1-ba08-98901b8f93e9&#x26;collection=contentId-28147864&#x26;contextId=28147864&#x26;width=1051&#x26;height=535&#x26;alt=" alt=""></p><p>In the example above, the various parameter names containing <strong>ViewState</strong> are dynamically-exchanged session parameters. But the one “<strong>ctl00$MainContent$TeamNamesDropDownList=AC Milan</strong>” is <em>not</em> because the value “AC Milan” had been entered manually into forms, via the drop-down list, during the recording of the web surfing session.</p>                                                                           |
| <h4 id="auto-extract-the-dynamically-exchanged-session-parameters">Auto-Extract the dynamically-exchanged session parameters</h4><p>This succeeds in approximately 50% of all cases.</p>                                                                                                                                | <p>To do this, click the</p><p>Open image-20210218-163533.png<img src="blob:https://apica-kb.atlassian.net/b8b57b2f-f101-4aae-821e-04b94f04980d#media-blob-url=true&#x26;id=91035d71-6416-4617-a4fc-bf6198b72990&#x26;collection=contentId-28147864&#x26;contextId=28147864&#x26;width=19&#x26;height=18&#x26;alt=" alt=""></p><p>“Click here to perform automatic handling for dynamically-exchanged session parameter” icon at the left of the parameter name.</p><p>Open image-20210218-163455.png<img src="blob:https://apica-kb.atlassian.net/ce1c1ccd-4375-4eb2-a54e-a11fd0e4d732#media-blob-url=true&#x26;id=b12cfd49-1c62-45e1-bd5b-8323211274ad&#x26;collection=contentId-28147864&#x26;contextId=28147864&#x26;width=198&#x26;height=40&#x26;alt=" alt=""></p> |
| <p><strong>Success</strong></p><p>If you receive a success message, there is nothing more to do for this parameter. In this example, the <strong>levid</strong> var was successfully created with the auto-extraction. Note the 2 with the left blue arrow; a var extraction.</p>                                       | <p>Open image-20200110-141137.png<img src="blob:https://apica-kb.atlassian.net/2acc06d2-0555-4b6c-a2cb-e9e1cbbecdfc#media-blob-url=true&#x26;id=22fc3e92-1692-4801-a4da-58d37853bb39&#x26;collection=contentId-28147864&#x26;contextId=28147864&#x26;width=1818&#x26;height=389&#x26;alt=" alt=""></p><p> </p><p>The corresponding definitions inside the Var Handler are automatically created.</p>                                                                                                                                                                                                                                                                                                                                                                     |
| <h4 id="error">Error</h4><p>On the other hand, if you receive an error message, you must manually extract the dynamically-exchanged session parameter (see the next subchapter).</p>                                                                                                                                    | Open image-20210218-213833.png![](blob:https://apica-kb.atlassian.net/a30b4fee-ad65-40f1-a038-106ba78299b8#media-blob-url=true\&id=7bd56552-2784-43e3-8ee2-f10191ec8b7b\&collection=contentId-28147864\&contextId=28147864\&width=469\&height=251\&alt=)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| In this example, the parameter **\_\_VIEWSTATE** could be handled automatically. The other parameters (**d** & **t**) must be extracted manually since these parameters are listed more than once (i.e., the same name with different values); the extraction must also be done more than once for each distinct value. | Open image-20210218-214051.png![](blob:https://apica-kb.atlassian.net/fc546ffe-6365-41ff-9fe1-496377e11c13#media-blob-url=true\&id=55b2a8d2-08e0-4513-b3d7-8c846e1114fd\&collection=contentId-28147864\&contextId=28147864\&width=477\&height=291\&alt=)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |

![Light Bulb On](https://pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/atlassian/productivityEmojis/lightbulb-yellow-32px.png) **Hint**: you can use this menu as a checklist of already dynamically handled parameters, irrespective of whether the extraction is done automatically or manually. The handling is already done if the line contains a Left (extract) arrow and a Right (assign) arrow.

***

#### Manual Extraction of Dynamically-Exchanged Session Parameters <a href="#manual-extraction-of-dynamically-exchanged-session-parameters" id="manual-extraction-of-dynamically-exchanged-session-parameters"></a>

Beyond the scope of this online documentation.\
Beginning with ZebraTester V4.4-G, the "Var Extractor Wizard" was added to the product. For further information, the dedicated manual about the Handling of "Dynamically- Exchanged Session Parameters" is included in the installation and is attached.

&#x20;

Open HandlingDynamicSessionParameterEN.pdf![](blob:https://apica-kb.atlassian.net/f1b7055a-df8a-493f-9d50-aaf19ee41b5a#media-blob-url=true\&id=e601a4c3-c5d7-4191-bbe3-c9dacc360c44\&collection=contentId-28147864\&contextId=28147864\&mimeType=application%2Fpdf\&name=HandlingDynamicSessionParameterEN.pdf\&size=4876917\&width=156\&height=125\&alt=)HandlingDynamicSessionParameterEN.pdf18 Feb 2021, 10:30 AM

***

### Replacing Text Patterns <a href="#replacing-text-patterns" id="replacing-text-patterns"></a>

Open image-20210218-221505.png![](blob:https://apica-kb.atlassian.net/0e7afe85-b916-44da-8546-c28efd045156#media-blob-url=true\&id=5bbae51a-f601-49c1-8be0-8ae3f7293f56\&collection=contentId-28147864\&contextId=28147864\&width=188\&height=183\&alt=)

In rare cases, the _name_ of an HTTP request parameter is variable instead of the parameter _value_ being a variable. Even rarer are cases where a file path of a URL call contains variable parts.

You can handle such cases as follows:

Use the text pattern-based variable extractor.

1. At the last step, use the checkbox **Assign Var automatically to all HTTP requests containing the same text pattern (full binary replacement of recorded value overall requests)** instead of **Assign var automatically to all HTTP requests that contain form CGI parameters with the same recorded value**.

There are also other rare cases in which a text pattern must be extracted from an HTTP response header because a variable HTTP redirection occurs. A part of the URL file path, or a part of a CGI parameter, is variable. This is also supported - if two extractor icons are present, you simply use the second one.

Open image-20210218-223254.png![](blob:https://apica-kb.atlassian.net/7d4485ae-25d8-4801-bda2-2ef7751dfe47#media-blob-url=true\&id=ca0c33ac-065f-4a68-b209-586df67596e0\&collection=contentId-28147864\&contextId=28147864\&width=349\&height=144\&alt=)

***

### Extracting and Assigning Values of XML and SOAP Data <a href="#extracting-and-assigning-values-of-xml-and-soap-data" id="extracting-and-assigning-values-of-xml-and-soap-data"></a>

In case that XML or SOAP data have been recorded, ZebraTester parses such data automatically and displays an additional XML Icon within the title of the “HTTP response Content” and the “HTTP request content” box:

Open image-20210219-185233.png![](blob:https://apica-kb.atlassian.net/706e4109-daa0-4865-af02-7221ab0ef16b#media-blob-url=true\&id=73fbfb13-7f57-47e2-a0ab-0de3f6e092a8\&collection=contentId-28147864\&contextId=28147864\&width=1328\&height=659\&alt=)

***

### HTTP File Uploads <a href="#http-file-uploads" id="http-file-uploads"></a>

If a recorded web surfing sessions contain HTTP file uploads, you can also use a variable for each file upload which allows selecting the uploaded file dynamically during the load test. Such a variable is often extracted from an input file whose lines contain different file names (without file paths).

Open image-20200110-194037.png![](blob:https://apica-kb.atlassian.net/7815c0e2-e176-4a3f-8a46-1e33941c2525#media-blob-url=true\&id=b87f7bdd-e1ec-481b-87a7-904056e02b87\&collection=contentId-28147864\&contextId=28147864\&width=2600\&height=753\&alt=)

**Note:** Before you start the load test, you have to place all files uploaded into the same project navigator directory where the compiled load test program resides. Before you start the load test, you have to zip the compiled \*.class of the load test program together with all files uploaded (and together with all used input files). After this, execute the zipped archive itself as a load test program.

### Overview of most commonly used Extract and Assign Options <a href="#overview-of-most-commonly-used-extract-and-assign-options" id="overview-of-most-commonly-used-extract-and-assign-options"></a>

The following illustration is not exhaustive.

Open image-20210219-154309.png![](blob:https://apica-kb.atlassian.net/64fec063-9d41-4576-b9fc-a9e1eac705c7#media-blob-url=true\&id=e1a310b0-2bd6-4c8b-86f0-3453b688014b\&collection=contentId-28147864\&contextId=28147864\&width=764\&height=682\&alt=)

***

### Directly-Defined Variables (stand-alone Variables) <a href="#directly-defined-variables-stand-alone-variables" id="directly-defined-variables-stand-alone-variables"></a>

Open image-20210219-154928.png![](blob:https://apica-kb.atlassian.net/d9977663-f026-4e45-8e80-401c7e174fe7#media-blob-url=true\&id=1486742b-cb31-4f08-b7bf-8cac2128ed46\&collection=contentId-28147864\&contextId=28147864\&width=376\&height=476\&alt=)

Variables are usually defined implicitly by creating Input Files, User Input Fields, using the Var Finder, or extracting values using the Var Handler.

However, it is also possible to define variables directly for special-purpose use. Depending on the scope, directly-defined variables can have special initial values set during the load test by the load test program itself.

&#x20;

&#x20;

&#x20;

&#x20;

&#x20;

&#x20;

&#x20;

&#x20;

Supported combinations of scope and initial values are:

| **Initial Value**        | **global var** | **user var** | **loop var** | **inner loop var** |
| ------------------------ | -------------- | ------------ | ------------ | ------------------ |
| constant value           | x              | x            | x            | x                  |
| null                     | x              | x            | x            | x                  |
| current user counter     | -              | x            | x            | x                  |
| loop counter             | x¹             | x²           | -            | -                  |
| inner loop counter       | -              | -            | -            | x                  |
| system time milliseconds | x              | x            | x            | x                  |
| load source IP hostname  | x              | x³           | x³           | -                  |
| load source IP address   | x              | x³           | x³           | -                  |

&#x20;

¹ = (outer) loop counter overall users

² = (outer) loop counter of the user

³ = inclusive multi-homing support

#### _Initial Values:_ <a href="#initial-values" id="initial-values"></a>

| `constant value`           | the variable is initialized with an arbitrary constant value.                                                                                                                                                                                      |
| -------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `null`                     | the value of the variable is not valid/undefined at initialization time.                                                                                                                                                                           |
| `current user counter`     | the variable is initialized with the sequence number of the simulated user (0, 1, 2 ..).                                                                                                                                                           |
| `loop counter`             | **global var scope** - the variable is initialized with the outer loop counter (0, 1, 2 ..) - counted over all simulated user/user _var scope_: the variable is initialized with the outer loop counter of the actual simulated user (0, 1, 2 ..). |
| `inner loop counter`       | the variable is initialized with the iteration counter of the inner loop (0, 1, 2 ..) - of the actual simulated user.                                                                                                                              |
| `system time milliseconds` | the variable is initialized with the current operating system time, in milliseconds since 1970.                                                                                                                                                    |
| `load source IP hostname`  | the variable is initialized with the Exec Agent hostname.                                                                                                                                                                                          |
| `load source IP address`   | the variable is initialized with the Exec Agent IP address.                                                                                                                                                                                        |

### J2EE URL Rewriting <a href="#j2ee-url-rewriting" id="j2ee-url-rewriting"></a>

The web application developers can configure a Java (J2EE) application server. A procedure called "URL rewriting" is used to build the session context instead of using session cookies. In this case, the server will assign a special dynamic session parameter to every returned hyperlink at runtime and to every form, which contains the session context.

An example of a hyperlink with applied URL rewriting is as follows:

`<a href="http://www.d-fischer.com:8080/prxtool/servlet/WebMainMenu;jsessionid=bu3fy0bbj1?currentDir=344">forward</a>`

The URL rewriting parameter \[`jsessionid=bu3fy0bbj1`] is appended to the URL file-path\[`http://www.d-fischer.com:8080/prxtool/servlet/WebMainMenu`], separated by a semicolon, and appears before the normal CGI parameters \[`currentDir=344`], which start with a question mark.

Usually, a Java application server supports both session cookies and URL rewriting; however, only one of these procedures is applied, on a per-user basis, to build the session context. The inner algorithm of the application server works as follows:

1. When a web browser requests any page from the server for the first time, the server does not know if the web browser supports session cookies. For this reason, the server sends a session cookie to the web browser and performs additional URL rewriting for all hyperlinks and forms for the first web page.
2. When the web browser requests a second page from the server and transmits the received session cookie back to the server, the server will know that it supports cookies. For the current and all succeeding web pages, URL rewriting will no longer be done.
3. If on the second-page request, the web browser does not send back the cookie, or if the application server is configured to disable the use of session cookies (in which case an initial cookie will not have been sent anyway), the webserver notes the absence of the session cookie. It does URL rewriting for the current web page and all succeeding web pages.

You do not usually have to do anything special in this case because most Java application servers support session cookies. However, if session cookies are disabled, you must first enable URL rewriting support inside the Var Handler before the load test can be executed successfully. You will recognize the need for this when you review the recorded URLs in the main menu - if the URL rewriting parameter is found in all URL calls in most web pages, you will have to enable URL rewriting support in the Var Handler.

Proceed as follows:

| **Step** | **Screenshot** |
| -------- | -------------- |

| **Step**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | **Screenshot**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <ol start="1"><li>Choose any URL detail menu.</li><li>Click the <strong>Enable Dynamic URL Rewriting</strong> button in the Var Handler.</li><li>Enter the name of the URL rewriting parameter in the field <strong>Rewrite Parameter</strong></li><li>Enter an arbitrary variable name in the field <strong>Map to Var Name</strong></li><li>Use the option <strong>automatically</strong> for the field <strong>Dynamic Handling.</strong></li></ol>                                                                                                                                         | <p>Open image-20210218-232102.png<img src="blob:https://apica-kb.atlassian.net/9bfda9ce-1094-49d0-80f9-3a39de88f1cf#media-blob-url=true&#x26;id=b2230397-7078-428e-9dec-1176f8ed2ba5&#x26;collection=contentId-28147864&#x26;contextId=28147864&#x26;width=188&#x26;height=98&#x26;alt=" alt=""></p><p>After URL rewriting has been enabled, the Var Handler shows only the first extraction of the URL rewriting parameter - but not its assignment. This is normal behavior because the assignment in succeeding URL calls will be done automatically later in the load test without additional configuration.</p> |
| <p><strong>Note:</strong> the URL rewriting parameter may also have a name other than <strong>jsessionid</strong> because the name itself can be configured inside the web application server. You must enter the actual parameter name in the field <strong>Rewrite Parameter</strong>.</p><p>It's also possible that the URL rewriting parameter's value can change during the web surfing session, for example, after logging in to the web application or after logging out. In this case, you will see two or more extractors for the URL rewriting parameter inside the Var Handler.</p> | <p> </p><p>Open image-20210219-162409.png<img src="blob:https://apica-kb.atlassian.net/8210d955-15bb-42da-9a25-d48df706e0c5#media-blob-url=true&#x26;id=5f4313f6-caaf-4b7d-8cdb-f19516978df1&#x26;collection=contentId-28147864&#x26;contextId=28147864&#x26;width=724&#x26;height=548&#x26;alt=" alt=""></p>                                                                                                                                                                                                                                                                                                        |

\
