# Generate Private CA Root Certificate

An abbreviated version of the ZebraTester Installation Guide PDF is included in the installation kit. Please download and refer to the installation guide for additional instructions and details.

## Windows <a href="#generateprivatecarootcertificate-windows" id="generateprivatecarootcertificate-windows"></a>

If you install ZebraTester on a Windows system for the first time, **Apica strongly recommends creating your own CA Root Certificate**.

You may share the CA Root Certificate (root.cer) and its private key (.der) with other team members.

Proceed as follows:

| **Instructions**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | **Screenshot** |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------- |
| <p>OpenSSL is only needed to generate the CA root certificate.</p><h4 id="generateprivatecarootcertificate-installopenssl">Install OpenSSL</h4><p>The OpenSSL executable is bundled with ZebraTester and can be found in the base ZebraTester installation folder.</p><p>Ignore any warnings of OpenSSL during the installation and accept all of the default settings.</p><p>You may install OpenSSL in a different location from the default.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                |
| <h4 id="generateprivatecarootcertificate-locatecreateowncarootcertificate.bat">Locate CreateOwnCARootCertificate.bat</h4><ul><li>This file is in the default installation directory</li><li>Example: C:\Users\&#x3C;your-name>\ZebraTester\</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                |
| <p><strong>Edit</strong> <strong>CreateOwnCARootCertificate.bat</strong></p><ul><li>You will get a notice to modify the value for <strong>OPENSSL_INSTALL_DIR</strong> to point to your OpenSSL installation directory when you run the batch file. If not needed, continue with any key.</li><li>Otherwise, right-click the file to edit it and look for the line starting with "SET OPENSSL_INSTA" Under Firefox <strong>Options,</strong> and you will import the root.cer file, stored in the Trusted CA certificate store, into Firefox.</li><li>From the Certificate Manager, under the Authorities Tab, Import the Certificate by browsing for it under the user's ZebraTester directory.</li><li><p>Open the certificate and check both boxes to set the Trust levels</p><ul><li>Enable the checkbox <strong>Trust this CA to identify websites.</strong></li><li>Enable the checkbox <strong>Trust this CA to identify email users.</strong></li></ul></li></ul> |                |
| <h4 id="generateprivatecarootcertificate-checkthefirefoxcertificatestoreforthenewrootca">Check the Firefox Certificate Store for the new Root CA</h4>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                |
| <h4 id="generateprivatecarootcertificate-restartthezebratesterconsole">Restart the ZebraTester Console</h4><ul><li>Verify your CA Root Certificate using the Web Admin GUI.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                |

## Testing the Installation <a href="#generateprivatecarootcertificate-testingtheinstallation" id="generateprivatecarootcertificate-testingtheinstallation"></a>

| **Instructions**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | **Screenshot** |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------- |
| <h4 id="generateprivatecarootcertificate-startzebratester">Start ZebraTester</h4><ul><li>Start the Console</li><li><p>After the Console shows the 127.0.0.1:7990, Start the GUI with the second icon.</p><ul><li>The icon will depend on what your default browser is during the installation.</li><li>Apica recommends a private Firefox Browser Window that you can clear cache and also the Firefox Browser <a href="https://apica-kb.atlassian.net/wiki/spaces/DAZT/pages/4620878/Download+the+ZebraTester+Extension">Extension</a> for ease of scripting.</li></ul></li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                |
| <h4 id="generateprivatecarootcertificate-thezebratestermainmenu">The ZebraTester Main Menu</h4><ul><li>This is the ZT Main Menu, and the Zebra icon in the upper right has the Firefox Browser Extension installed and enabled for Private Windows.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                |
| <h4 id="generateprivatecarootcertificate-openasecondprivatebrowserwindow-application">Open a Second Private Browser window (Application)</h4><ul><li>Place it side-by-side with the Main Menu window.</li><li>The second private window is for the target application and is cleared of cache.</li><li>This arrangement allows you to see and interact with the application and keep an eye on the ZebraTester.</li><li>Arrange it as needed. This screenshot shows as much of the ZT Main Menu as possible.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                |
| <h4 id="generateprivatecarootcertificate-clearthebrowsercache-introtothescriptextension">Clear the Browser Cache; Intro to The Script Extension</h4><ul><li>In the Application Navigation Window, the ZebraTester Script extension makes it easy to Clear the browser cache with a toggle before your click Start Recording.</li><li>You'll note, in the extension, that there will be no proxy set before you start recording. There is also no Last Action summary.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                |
| <h4 id="generateprivatecarootcertificate-startrecording-navigatetheapplication">Start Recording; Navigate the Application</h4><ul><li>Note that the Browser Cache toggle is ON and that the cache has been cleared.</li><li><p>When Start Recording is Clicked, the Proxy Mode is now enabled, and the Root Certificate we created earlier enforces the SSL sessions between the browser and the content the browser is requesting.</p><ul><li>Depending on the browser you are using to record your sessions, there might be some browser-issued warnings that a forward proxy (ZT) has been detected (“Is this OK?”). Since it's understood why ZT has been inserted between the content delivered and the browser, it is safe to proceed.</li></ul></li><li>You'll also see that the Last Action section will summarize what last few actions that have been recorded.</li><li>As usual, you may enter the Application URL in the browser address bar, and ZT will start recording the session.</li><li>Click the <strong>Stop Recording</strong> button when you are done.</li></ul> |                |
| <h4 id="generateprivatecarootcertificate-refreshthedisplayinwindowone">Refresh the Display in Window One</h4><ul><li>Once you have started recording the application, you can always switch to Window One and the Main ZT Menu to see what is being captured graphically.</li><li>Click the <strong>Refresh Display</strong> button to populate the screen.</li></ul><p> Once you have stopped your recording and can see the content displayed, you have successfully tested your ZebraTester Installation.</p><p></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |                |
